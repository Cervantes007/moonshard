(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{375:function(t,e,s){"use strict";s.r(e);var r=s(25),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"controllers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#controllers"}},[t._v("#")]),t._v(" Controllers")]),t._v(" "),s("p",[t._v("Controllers are responsible for handling incoming requests and returning responses to the client.")]),t._v(" "),s("p",[t._v("A controller's purpose is to receive specific requests for the application.\nThe routing mechanism controls which controller receives which requests.\nFrequently, each controller has more than one route, and different routes can perform different actions.")]),t._v(" "),s("p",[t._v("In order to create a basic controller, we use classes and decorators.\nDecorators associate classes with required metadata and enable Moonshard to create a routing map (tie requests to the corresponding controllers).")]),t._v(" "),s("p",[t._v("To define a "),s("code",[t._v("Controller")]),t._v(" you need to steps.")]),t._v(" "),s("ol",[s("li",[t._v("create a file with a name ending on "),s("code",[t._v(".controller.ts")]),t._v(" or "),s("code",[t._v(".ctrl.ts")]),t._v(". e.g. "),s("code",[t._v("app.controller.ts")]),t._v(" or "),s("code",[t._v("app.ctrl.ts")]),t._v(",")]),t._v(" "),s("li",[t._v("Write a class inside the create file and decorate it with "),s("code",[t._v("@Controller()")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"your-first-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#your-first-controller"}},[t._v("#")]),t._v(" Your first controller")]),t._v(" "),s("p",[t._v("Your "),s("code",[t._v("app.controller.ts")]),t._v(" file must look like this:")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'moonshard'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppController")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// define your routes here.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("moonshard")]),t._v(" is smart enough to load your controller before start the app.")]),t._v(" "),s("h2",{attrs:{id:"write-your-first-route"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#write-your-first-route"}},[t._v("#")]),t._v(" Write your first route")]),t._v(" "),s("p",[t._v("Inside the "),s("code",[t._v("user-controller.ts")]),t._v(", write a method and decorate with a http verb will handle the incoming request:")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'moonshard'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UsersController")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("helloWorld")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("With the above code we create our first route, start the server and visit your app default route under http://localhost:3000,\nyou should see the message "),s("code",[t._v("hello world")]),t._v(" in your browser.")])])}),[],!1,null,null,null);e.default=a.exports}}]);